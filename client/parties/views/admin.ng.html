
<a href="/logout"> Log ut </a>

  <br>
  <br>
<div class="form">
  <div ng-controller="AddPhotoCtrl">

  <div class="image-upload">

    <!-- Image drop tall rectangle -->

    <div ng-hide="imgSrc" ngf-drop ngf-select
         ngf-change="addImagesTallRectangle($files)"
         ngf-drag-over-class="{accept:'dragover', reject:'dragover-err', delay:100}" class="drop-box tall-rectangle"
         ngf-multiple="false" ngf-allow-dir="false" ngf-accept="'image/*'"
         ngf-drop-available="dropAvailable">
      <div class="drop-image-tall-rectangle" ng-show="dropAvailable"></div>
    </div>

    <div ng-show="imgSrc" class="ng-crop-container-tall-rectangle">
        <button ng-click="saveTallRectangleImage()" ng-disabled="!imgSrc"> Save Image</button>
        <img-crop image="imgSrc" area-type="rectangle" aspect-ratio="0.735" result-image="myCroppedImageTallRectangle" result-image-size='{w: 500,h: 680}'> </img-crop>
    </div>


  
    <!-- Image drop rectangle -->
    <div ng-hide="imgSrc2" ngf-drop ngf-select
         ngf-change="addImagesRectangle($files)"
         ngf-drag-over-class="{accept:'dragover', reject:'dragover-err', delay:100}" class="drop-box rectangle"
         ngf-multiple="false" ngf-allow-dir="false" ngf-accept="'image/*'"
         ngf-drop-available="dropAvailable">
      <div class="drop-image-rectangle" ng-show="dropAvailable"></div>
    </div>


    <div ng-show="imgSrc2" class="ng-crop-container-rectangle">
        <button ng-click="saveRectangleImage()" ng-disabled="!imgSrc2"> Save Image</button>
        <img-crop image="imgSrc2" area-type="rectangle" aspect-ratio="2.5" result-image="myCroppedImage" result-image-size='{w: 1000,h: 400}'> </img-crop>
    </div>



    <!-- Image drop square -->
    <div ng-hide="imgSrc3" ngf-drop ngf-select
         ngf-change="addImagesSquare($files)"
         ngf-drag-over-class="{accept:'dragover', reject:'dragover-err', delay:100}" class="drop-box square"
         ngf-multiple="false" ngf-allow-dir="false" ngf-accept="'image/*'"
         ngf-drop-available="dropAvailable">
      <div class="drop-image-square" ng-show="dropAvailable"></div>
    </div>


    <div ng-show="imgSrc3" class="ng-crop-container-square">
        <button ng-click="saveSquareImage()" ng-disabled="!imgSrc3"> Save Image</button>
        <img-crop image="imgSrc3" area-type="square" aspect-ratio="1" result-image="myCroppedImage" result-image-size='{w: 500,h: 500}'> </img-crop>
    </div>



    <br>
      <input class="post-header" placeholder="Overskrift" ng-model="newParty.name" id="nameInput" type="text">
    <br>
    <br>
    <br>
    <br>

    <div sv-root sv-part="newPartyImage">
      <div sv-element ng-repeat="image in newPartyImages">
        <div class="main-image" ng-show="$index === 0"></div>
        <img draggable="false" ng-src="{{image.url()}}" />
        <br>
        

        <a href="#" editable-text="image.metadata.description" onbeforesave="updateDescription($data, image)">{{ image.metadata.description || 'Klikk her for å legge inn fotokred' }}</a>


      </div>
    </div>
  </div>


  

  </div> <!-- image upload -->


  <br>
  <br>  

  <input placeholder="Brøtekst (må ikke være med)" ng-model="newParty.description" id="description" type="text" class="description">
  <label for="public">Public</label>
  <input type="checkbox" ng-model="newParty.public" id="public">
  <button ng-click="addNewParty()">Add </button>


</div> <!-- form -->

  <br>
  <br>
  <br>
  <br>
  <hr>
  <br>

  
  <div class="forsiden">
    <h1>Forsiden</h1>
    <input type="search" ng-model="search" placeholder="Search">
    <select ng-model="orderProperty">
      <option value="1">Ascending</option>
      <option value="-1">Descending</option>
    </select>
  </div>

  <br>
  
  <div class="post-wrapper">

    <div  class="post" dir-paginate="party in parties | itemsPerPage: perPage | orderBy: '-createdAt' " total-items="partiesCount.count">
        
        <a href="/admin/{{party._id}}"> <div class="post-header"  ng-style="{
            'top' : party.style.header.top,
            'left' : party.style.header.left,
            'width' : party.style.header.width,
            'font-size' : party.style.header.fontSize,
            'color' : party.style.header.color,
            'text-align' : party.style.header.textAlign
          }">{{party.name}}     
          </div> </a>


      <!-- Settings Modal -->

<!--       <button id="settings-button" ng-click="openSettingsModal()">Settings</button> -->
  
      
        <img ng-src="{{ getMainImage(party.images) }}" class="main-image">          
        <!-- <div ng-if="party.images && party.images.length > 0" ng-style="getMainImage(party.images)" class="main-image">
        </div> -->

        

        <p class="description">{{party.description}}</p>

        <button ng-click="remove(party)">X</button>
 

    </div>

  </div>  

<dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>